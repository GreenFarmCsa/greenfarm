(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"08ef":function(t,e,a){t.exports=a.p+"static/img/weeding-1.8c8ba6c5.png"},"0974":function(t,e,a){"use strict";a("c4fa")},"0d0a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item"},[a("div",{staticClass:"left"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.getImg(t.item.footprintName),alt:""}})]),a("div",{staticClass:"content"},[a("div",{staticClass:"name"},[t._v(t._s(t.item.footprintName))]),a("div",{staticClass:"time"},[t._v(t._s(t.timeHandle(t.item.createTime)))])])]),a("div",{staticClass:"credits"},["c"==t.item.footprintCategory?a("span",[t._v("-")]):t._e(),"p"==t.item.footprintCategory?a("span",[t._v("+")]):t._e(),a("span",[t._v(t._s(t.item.carbonCredit))])])])},r=[],n=a("ed08"),i={name:"FootPrint",data(){return{}},props:{item:{type:Object,default:()=>{}}},methods:{getImg(t){return t.includes("Seed")?a("ae25"):t.includes("Water")?a("991e"):t.includes("Fertilize")?a("7842"):t.includes("Weed")?a("08ef"):t.includes("Harvest")?a("e630"):t.includes("Add")?a("3527"):t.includes("Irrigate")?a("991e"):t.includes("Pest Control")?a("aa66"):a("3527")},timeHandle(t){return Object(n["b"])(t)}}},o=i,c=(a("dec3"),a("2877")),l=Object(c["a"])(o,s,r,!1,null,"26d63608",null);e["a"]=l.exports},1:function(t,e){},"1ff3":function(t,e,a){"use strict";a("e92e")},2:function(t,e){},"28e1":function(t,e,a){"use strict";a.d(e,"g",(function(){return r})),a.d(e,"l",(function(){return n})),a.d(e,"k",(function(){return i})),a.d(e,"m",(function(){return o})),a.d(e,"j",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"a",(function(){return m})),a.d(e,"f",(function(){return p})),a.d(e,"n",(function(){return f})),a.d(e,"o",(function(){return h})),a.d(e,"b",(function(){return g})),a.d(e,"i",(function(){return b})),a.d(e,"h",(function(){return v}));var s=a("b775");function r(t){return Object(s["a"])({url:"/product/queryTopN",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/product/queryByCategory",method:"get",params:t})}function i(t){return Object(s["a"])({url:"/product/query",method:"get",params:t})}function o(t){return Object(s["a"])({url:"/product/queryById",method:"get",params:t})}function c(t){return Object(s["a"])({url:"/product/queryComment",method:"get",params:t})}function l(t){return Object(s["a"])({url:"/product/like",method:"put",params:t})}function u(t){return Object(s["a"])({url:"/product/add",method:"post",data:t})}function d(t){return Object(s["a"])({url:"/product/box",method:"post",data:t})}function m(t){return Object(s["a"])({url:"/shopping-cart/add",method:"post",params:t})}function p(t){return Object(s["a"])({url:"/shopping-cart/queryByUserName",method:"post",params:t})}function f(t){return Object(s["a"])({url:"/shopping-cart/remove",method:"post",params:t})}function h(t){return Object(s["a"])({url:"/shopping-cart/update",method:"post",params:t})}function g(t){return Object(s["a"])({url:"/order/add",method:"post",data:t})}function b(t){return Object(s["a"])({url:"/product/queryByFarmId",method:"get",params:t})}function v(t){return Object(s["a"])({url:"/plant-task/queryPlantTaskByProductId",method:"get",params:t})}},3527:function(t,e,a){t.exports=a.p+"static/img/farm-big-4.74e71070.png"},"3e8f":function(t,e){},"4c2d":function(t,e,a){"use strict";a("deb5")},"4d55":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card goods-card"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.imgurl(t.item.imageUrl&&t.item.imageUrl.length>0?t.item.imageUrl[0]:""),alt:""}})]),a("div",{staticClass:"name"},[t._v(t._s(t.item.productName)+"*"+t._s(t.item.weight)+"KG")]),a("div",{staticClass:"foot"},[a("div",{staticClass:"price"},[a("span",{staticClass:"dolar"},[t._v("$")]),t._v(" "+t._s(parseFloat(t.item.price).toFixed(2))+" ")]),a("div",{staticClass:"like",on:{click:function(e){return e.stopPropagation(),t.likeClick(t.item)}}},[a("svg-icon",{staticStyle:{"font-size":"0.28rem"},attrs:{iconClass:"like"}}),t._v(" "+t._s(t.item.likeNumber)+" ")],1)])])},r=[],n=a("28e1"),i={name:"RecommendGoods",data(){return{}},props:{item:{type:Object,default:()=>{}}},mounted(){},methods:{imgurl(t,e){return"http://ec2-52-80-243-127.cn-north-1.compute.amazonaws.com.cn:8081/file/download?url="+t},likeClick(t){Object(n["e"])({isLike:!0,productId:t.productId,username:this.$store.state.user.username}).then(e=>{this.$toast({position:"bottom",message:"success!"}),t.likeNumber=0+t.likeNumber+1}).catch(t=>{console.log(t)})}}},o=i,c=(a("0974"),a("2877")),l=Object(c["a"])(o,s,r,!1,null,"cfb6e732",null);e["a"]=l.exports},5806:function(t,e,a){},"5fd4":function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"e",(function(){return c}));var s=a("b775");function r(t){return Object(s["a"])({url:"/plant-task/query",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/carbon-footprint/queryFromDashboard",method:"get",params:t})}function i(t){return Object(s["a"])({url:"/carbon-footprint/query",method:"get",params:t})}function o(t){return Object(s["a"])({url:"/recommendation/queryFarms",method:"get",params:t})}function c(t){return Object(s["a"])({url:"/recommendation/queryProducts",method:"get",params:t})}},"674a":function(t,e,a){},7842:function(t,e,a){t.exports=a.p+"static/img/picking-vegetables-1.0955e4fd.png"},"83c6":function(t,e,a){t.exports=a.p+"static/img/echarts-marker-mid.bfedc579.svg"},9406:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"user"},[a("div",{staticClass:"left"},[a("div",{staticClass:"name"},[t._v(t._s(t.$store.state.user.username))]),a("div",{staticClass:"text"},[t._v(t._s(t.greetings()))])]),a("div",{staticClass:"right"},[a("van-image",{attrs:{round:"",width:"0.84rem",height:"0.84rem",src:t.imgurl(t.$store.state.user.iconUrl)},scopedSlots:t._u([{key:"loading",fn:function(){return[a("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}])})],1)]),a("div",{staticClass:"block"},[a("div",{staticClass:"block-title"},[a("svg-icon",{staticStyle:{"font-size":"0.4rem"},attrs:{iconClass:"My plant"}}),a("span",[t._v("My Plant")])],1),a("PlantTask")],1),a("div",{staticClass:"block"},[a("div",{staticClass:"block-title"},[a("svg-icon",{staticStyle:{"font-size":"0.4rem"},attrs:{iconClass:"carbon_credits"}}),a("span",[t._v("My Carbon Credit")])],1),t._m(0),a("div",{staticClass:"card footprint-card"},[a("div",{staticClass:"title"},[t._v("Carbon Footprint Detail")]),t._l(t.carbonFootprintListShow,(function(t,e){return a("FootPrint",{key:e,attrs:{item:t}})})),t.ifFoldFootprint?a("div",{staticClass:"arrowDown",on:{click:t.showMoreFootprint}},[a("van-icon",{attrs:{name:"arrow-down"}})],1):t._e()],2)]),a("div",{staticClass:"block"},[a("div",{staticClass:"block-title"},[a("svg-icon",{staticStyle:{"font-size":"0.4rem"},attrs:{iconClass:"recommend farm"}}),a("span",[t._v("Recommended Farm")])],1),t._l(t.recommendFarmsList,(function(e,s){return a("RecommendFarm",{key:s,attrs:{item:e},nativeOn:{click:function(a){return t.$router.push("/farm/detail/"+e.farmId)}}})}))],2),a("div",{staticClass:"block"},[a("div",{staticClass:"block-title"},[a("svg-icon",{staticStyle:{"font-size":"0.4rem"},attrs:{iconClass:"recommend goods"}}),a("span",[t._v("Recommended Produce")])],1),t._l(t.recommendProductsList,(function(e,s){return a("RecommendGoods",{key:s,attrs:{item:e},nativeOn:{click:function(a){return t.$router.push("/mall/goods/detail/"+e.productId)}}})}))],2)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card chart-card"},[a("div",{staticClass:"chart",staticStyle:{width:"100%",height:"3rem"},attrs:{id:"chart"}})])}],n=a("5fd4"),i=(a("3c43"),a("9490"),a("0d0a")),o=a("bc0e"),c=a("4d55"),l=a("9605"),u=(a("3e8f"),{components:{FootPrint:i["a"],RecommendFarm:o["a"],RecommendGoods:c["a"],PlantTask:l["a"]},data(){return{carbonFootprintList:[],carbonFootprintListShow:[],recommendFarmsList:[],recommendProductsList:[],echartsDate:["06-21","06-22","06-23","06-24","06-25"],echartsActual:["201","105","168","300","100"],echartsTarget:["305","405","300","389","350"],ifFoldFootprint:!0}},mounted(){this.getEchartsFootprint(),this.getCarbonFootprint(),this.getRecommendFarms(),this.getRecommendProducts()},methods:{imgurl(t,e){return"http://ec2-52-80-243-127.cn-north-1.compute.amazonaws.com.cn:8081/file/download?url="+t},greetings(){let t=new Date,e=t.getHours();return e<12?"Good Morning!":e>=12&&e<18?"Good Afternoon!":"Good Evening!"},getEchartsFootprint(){Object(n["b"])({username:this.$store.state.user.username}).then(t=>{this.echartsDate=[],this.echartsActual=[],this.echartsTarget=[],t.data.targetFootprint.forEach(t=>{this.echartsDate.push(t.date.substring(5,10)),this.echartsTarget.push(t.value)}),t.data.actualFootprint.forEach(t=>{this.echartsActual.push(t.value)}),this.getEchart()}).catch(t=>{console.log(t)})},getCarbonFootprint(){Object(n["a"])({username:this.$store.state.user.username}).then(t=>{this.carbonFootprintList=t.data,t.data.length<=5?(this.carbonFootprintListShow=this.carbonFootprintList,this.ifFoldFootprint=!1):(this.carbonFootprintListShow=this.carbonFootprintList.slice(0,5),this.ifFoldFootprint=!0)}).catch(t=>{console.log(t)})},showMoreFootprint(){this.carbonFootprintListShow=this.carbonFootprintList,this.ifFoldFootprint=!1},getRecommendFarms(){Object(n["d"])({username:this.$store.state.user.username}).then(t=>{this.recommendFarmsList=t.data}).catch(t=>{console.log(t)})},getRecommendProducts(){Object(n["e"])({username:this.$store.state.user.username}).then(t=>{this.recommendProductsList=t.data}).catch(t=>{console.log(t)})},getEchart(){let t=this.$echarts.init(document.getElementById("chart")),e={time:this.echartsDate,actual:this.echartsActual,target:this.echartsTarget},s={legend:{top:"0",left:"0",itemWidth:10,itemHeight:10,data:[{icon:"circle",name:"actual",color:"blue"},{icon:"circle",name:"target"}],textStyle:{color:"#999"}},grid:{top:"25%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{show:!1,lineStyle:{color:"#092b5d"}},axisLabel:{interval:parseInt(this.echartsDate.length/10),rotate:45,textStyle:{fontFamily:"Montserrat-Light",color:"#A0A8B0",fontSize:"12px"},formatter:t=>t},axisTick:{show:!1},data:e.time}],yAxis:[{splitNumber:1,splitLine:{show:!0,lineStyle:{color:"#D0D3D5",opacity:.2}},axisLine:{show:!1,lineStyle:{color:"#092b5d"}},axisLabel:{show:!0,textStyle:{fontFamily:"PingFangSC-Regular",color:"#BDCADB",fontSize:"12px"}},axisTick:{show:!1}}],series:[{color:"#12E7BD",name:"actual",type:"line",symbol:"none",showAllSymbol:!1,symbolSize:10,lineStyle:{normal:{color:"#12E7BD"}},itemStyle:{},markPoint:{show:!1,symbol:"image://"+a("83c6"),itemStyle:{color:{}},symbolSize:[40,32],symbolOffset:[0,-20],data:[{type:"max",name:"max"}],label:{offset:[0,-3],color:"#ffffff",fontFamily:"Montserrat-Regular",fontSize:"0.24rem"}},label:{normal:{show:!1,position:"top",formatter:[" {a|{c}}"].join(","),rich:{a:{color:"#333",align:"center"}}}},smooth:!0,areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#12E7BD4D"},{offset:1,color:"#12E7BD00"}],!1)}},data:e.actual},{color:"#FFCA60",name:"target",type:"line",symbol:"none",showAllSymbol:!1,symbolSize:10,lineStyle:{normal:{color:"#FFC450"}},itemStyle:{},label:{normal:{show:!1,position:"top",formatter:[" {a|{c}}"].join(","),rich:{a:{color:"#333",align:"center"}}}},smooth:!0,data:e.target}]};t.setOption(s,!0),window.addEventListener("resize",()=>{t.resize()})}}}),d=u,m=(a("f8ef"),a("2877")),p=Object(m["a"])(d,s,r,!1,null,"327ae227",null);e["default"]=p.exports},9605:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.plantTaskMap.keys(),(function(e,r){return s("div",{key:r,staticClass:"card plant-card"},[s("div",{staticClass:"head"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t.imgurl(t.plantTaskMap.get(e)[0].iconUrl,a("a21f")),alt:""}})]),s("div",{staticClass:"title"},[t._v(t._s(t.plantTaskMap.get(e)[0].farmName))])]),t._l(t.plantTaskMap.get(e),(function(e,a){return s("div",{key:a+"a",staticClass:"item",on:{click:function(a){return t.goTaskList(e)}}},[s("div",{staticClass:"title"},[s("div",{staticClass:"text"},[t._v(t._s(e.seedName?e.seedName:"Seed"))]),s("div",{staticClass:"step"},[t._v(t._s(e.status?e.status:"Status"))])]),s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-number"},[t._v(t._s(Math.ceil(parseFloat(e.percentage)))+"%")]),s("div",{staticClass:"progress-container"},[s("div",{staticClass:"done",style:"width:"+e.percentage}),s("div",{staticClass:"point",style:"left:"+e.percentage},[s("svg-icon",{staticStyle:{"font-size":"0.44rem"},attrs:{iconClass:"progressbar-carrot"}})],1)])])])}))],2)})),0)},r=[],n=a("5fd4"),i={name:"PlantTask",data(){return{plantTaskMap:new Map}},mounted(){this.getPlantTask()},props:{},methods:{getNum(t){},imgurl(t,e){return"http://ec2-52-80-243-127.cn-north-1.compute.amazonaws.com.cn:8081/file/download?url="+t},goTaskList(t){this.$router.push({path:"/me/plant/task-list/",query:{taskId:t.taskId,seedName:t.seedName,farmId:t.farmId,landId:t.landId,seedId:t.seedId}})},getPlantTask(){Object(n["c"])({username:this.$store.state.user.username}).then(t=>{let e=t.data,a=new Map;e.forEach((t,e)=>{if(t.farmId)if(void 0==a.get(t.farmId)){let e=[];e.push(t),a.set(t.farmId,e)}else{let e=a.get(t.farmId);e.push(t),a.set(t.farmId,e)}}),this.plantTaskMap=a}).catch(t=>{console.log(t)})}}},o=i,c=(a("1ff3"),a("2877")),l=Object(c["a"])(o,s,r,!1,null,"0387d23c",null);e["a"]=l.exports},"991e":function(t,e,a){t.exports=a.p+"static/img/irrigation-1.0dcc354f.png"},a21f:function(t,e,a){t.exports=a.p+"static/img/carbon-credits-1.f256dd98.png"},aa66:function(t,e,a){t.exports=a.p+"static/img/pest-control.fb6a1d13.png"},ae25:function(t,e,a){t.exports=a.p+"static/img/seeding-1.3d1beb3f.png"},bc0e:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card farm-card"},[a("div",{staticClass:"title"},[t._v(t._s(t.item.farmName))]),a("div",{staticClass:"img"},[a("img",{attrs:{src:t.imgurl(t.item.iconUrl),alt:""}}),a("div",{staticClass:"area"},[t._v(t._s(t.item.totalArea)+"mÂ²")])]),a("div",{staticClass:"desc"},[t._v(t._s(t.item.introduction))]),a("div",{staticClass:"location"},[a("svg-icon",{staticStyle:{"font-size":"0.28rem"},attrs:{iconClass:"location-mark"}}),t._v(" "+t._s(t.item.location)+" ")],1)])},r=[],n={name:"RecommendFarm",data(){return{}},props:{item:{type:Object,default:()=>{}}},mounted(){},methods:{imgurl(t,e){return"http://ec2-52-80-243-127.cn-north-1.compute.amazonaws.com.cn:8081/file/download?url="+t}}},i=n,o=(a("4c2d"),a("2877")),c=Object(o["a"])(i,s,r,!1,null,"b13c4e12",null);e["a"]=c.exports},c4fa:function(t,e,a){},deb5:function(t,e,a){},dec3:function(t,e,a){"use strict";a("5806")},e630:function(t,e,a){t.exports=a.p+"static/img/harvest-6.f9b48565.png"},e92e:function(t,e,a){},f8ef:function(t,e,a){"use strict";a("674a")}}]);